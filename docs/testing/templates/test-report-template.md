# Test Execution Report

**Generated:** {{TIMESTAMP}}
**Mode:** {{MODE}}
**Triggered By:** {{TRIGGER}}
**Duration:** {{DURATION}}

---

## Executive Summary

| Metric | Value | Status |
|--------|-------|--------|
| **Total Tests** | {{TOTAL_TESTS}} | - |
| **Passed** | {{PASSED}} | {{PASSED_ICON}} |
| **Failed** | {{FAILED}} | {{FAILED_ICON}} |
| **Skipped** | {{SKIPPED}} | {{SKIPPED_ICON}} |
| **Pass Rate** | {{PASS_RATE}}% | {{PASS_STATUS}} |

### Coverage Summary

| Metric | Actual | Target | Status |
|--------|--------|--------|--------|
| Branches | {{BRANCH_COV}}% | {{BRANCH_TARGET}}% | {{BRANCH_STATUS}} |
| Functions | {{FUNC_COV}}% | {{FUNC_TARGET}}% | {{FUNC_STATUS}} |
| Lines | {{LINE_COV}}% | {{LINE_TARGET}}% | {{LINE_STATUS}} |
| Statements | {{STMT_COV}}% | {{STMT_TARGET}}% | {{STMT_STATUS}} |

---

## Test Results by Category

### Unit Tests

| Test File | Tests | Passed | Failed | Duration |
|-----------|-------|--------|--------|----------|
{{UNIT_TEST_ROWS}}

### API Tests

| Test File | Tests | Passed | Failed | Duration |
|-----------|-------|--------|--------|----------|
{{API_TEST_ROWS}}

### Integration Tests

| Test File | Tests | Passed | Failed | Duration |
|-----------|-------|--------|--------|----------|
{{INTEGRATION_TEST_ROWS}}

### E2E Tests

| Test File | Tests | Passed | Failed | Duration |
|-----------|-------|--------|--------|----------|
{{E2E_TEST_ROWS}}

---

## Failed Tests

{{#if FAILURES}}
### Failures Detail

{{#each FAILURES}}
#### {{this.testName}}

**File:** `{{this.file}}`
**Duration:** {{this.duration}}ms

**Error:**
```
{{this.error}}
```

**Stack Trace:**
```
{{this.stack}}
```

---
{{/each}}
{{else}}
No test failures.
{{/if}}

---

## Coverage Gaps

{{#if COVERAGE_GAPS}}
### Files Below Threshold

| File | Branches | Functions | Lines | Uncovered Lines |
|------|----------|-----------|-------|-----------------|
{{#each COVERAGE_GAPS}}
| `{{this.file}}` | {{this.branches}}% | {{this.functions}}% | {{this.lines}}% | {{this.uncoveredLines}} |
{{/each}}

### Recommendations

{{#each COVERAGE_RECOMMENDATIONS}}
- {{this}}
{{/each}}
{{else}}
All files meet coverage thresholds.
{{/if}}

---

## MCP Tool Usage

### Tools Invoked

| Tool | Invocations | Success | Failed | Avg Duration |
|------|-------------|---------|--------|--------------|
{{MCP_TOOL_ROWS}}

### MCP Errors

{{#if MCP_ERRORS}}
{{#each MCP_ERRORS}}
- **{{this.tool}}**: {{this.error}}
{{/each}}
{{else}}
No MCP errors encountered.
{{/if}}

---

## Feature Coverage

| Feature Module | Unit | API | Integration | E2E | Overall |
|----------------|------|-----|-------------|-----|---------|
{{FEATURE_COVERAGE_ROWS}}

---

## Performance Metrics

| Metric | Value |
|--------|-------|
| Total Duration | {{TOTAL_DURATION}} |
| Slowest Test | {{SLOWEST_TEST}} ({{SLOWEST_DURATION}}) |
| Average Test Duration | {{AVG_TEST_DURATION}} |
| Tests Per Second | {{TESTS_PER_SECOND}} |

---

## Environment

| Property | Value |
|----------|-------|
| Node Version | {{NODE_VERSION}} |
| npm Version | {{NPM_VERSION}} |
| Jest Version | {{JEST_VERSION}} |
| OS | {{OS}} |
| CI | {{IS_CI}} |

---

## Recommendations

{{#each RECOMMENDATIONS}}
### {{this.priority}}: {{this.title}}

{{this.description}}

**Action:** {{this.action}}

{{/each}}

---

## Next Steps

1. {{NEXT_STEP_1}}
2. {{NEXT_STEP_2}}
3. {{NEXT_STEP_3}}

---

## Appendix

### A. Test Manifest Used

```json
{{TEST_MANIFEST}}
```

### B. Raw Output

<details>
<summary>Click to expand raw test output</summary>

```
{{RAW_OUTPUT}}
```

</details>

---

**Report Generated By:** Test Plan Agent v1.0
**Report ID:** {{REPORT_ID}}
